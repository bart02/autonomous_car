def constrain(val, minv, maxv):
    return min(maxv, max(minv, val))
